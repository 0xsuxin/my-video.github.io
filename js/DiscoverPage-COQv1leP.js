var a=(a,t,e)=>new Promise(((s,i)=>{var n=a=>{try{o(e.next(a))}catch(t){i(t)}},l=a=>{try{o(e.throw(a))}catch(t){i(t)}},o=a=>a.done?s(a.value):Promise.resolve(a.value).then(n,l);o((e=e.apply(a,t)).next())}));import{j as t,_ as e,r as s,d as i,a as n}from"./index-SUJifcap.js";import{j as l,z as o,A as r,E as c,u as d,G as m,F as u,B as _,L as v,k as h,N as y,O as g,r as k,a as p,e as x,n as w,s as C,v as b,K as f,d as D,x as L,D as S}from"./vue-vendor-Bp1vkiaO.js";import{C as O}from"./vue-content-loader.es-CHEsjOy4.js";import{_ as j}from"./TopTabs-CkUf4HTZ.js";import{_ as N}from"./HorizontalCoverComp-g8yhs9e_.js";import{A as T,s as G}from"./vant-SUiVHmz4.js";import"./search_icon-fD3olb4c.js";import"./numberUtils-DA0a_630.js";const I=["src"],A={class:"introduce_box"},P={class:"game_info"},B={class:"info_left"},R=["src"],E={class:"name_box"},z={class:"game_name"},H={class:"tag_box"},M={class:"game_introduce"},U=e(l({__name:"GameComp",props:{gameData:{}},emits:["onGameClick"],setup(a,{emit:e}){const s=e,i=()=>{s("onGameClick",a.gameData)};return(a,e)=>(o(),r("div",{class:"game_container",onClick:i},[c("img",{src:d(t)(a.gameData.poster),alt:"",class:"game_img"},null,8,I),c("div",A,[c("div",P,[c("div",B,[c("img",{src:d(t)(a.gameData.icon),alt:"",class:"game_icon"},null,8,R),c("div",E,[c("div",z,m(a.gameData.name),1),c("div",H,[(o(!0),r(u,null,_(a.gameData.tags,((a,t)=>(o(),r("div",{class:"tag norem",key:t},m(a),1)))),128))])])]),e[0]||(e[0]=c("div",{class:"play_btn"},"Play",-1))]),c("div",M,m(a.gameData.des),1)])]))}}),[["__scopeId","data-v-fda51e0f"]]),V={key:0,class:"rank_num"},q=["src"],F={class:"cover_info"},K=e(l({__name:"VerticalCoverComp",props:{isShowRank:{type:Boolean,default:!1},rankNum:{default:0},coverData:{}},emits:["onCompClick"],setup(a,{emit:e}){const s=e,i=()=>{s("onCompClick",a.coverData.id)};return(a,e)=>(o(),r("div",{class:"vertical_cover_container",onClick:i},[a.isShowRank?(o(),r("div",V,m(a.rankNum),1)):v("",!0),c("img",{src:d(t)(a.coverData.icon),alt:"",class:"cover_img"},null,8,q),c("div",F,m(a.coverData.name),1)]))}}),[["__scopeId","data-v-f9c318ec"]]),W={class:"ability_container"},$={class:"ability_title"},J={class:"cover_list_over"},Q={class:"absolute_box"},X={class:"list_content"},Y={class:"item_box"},Z=e(l({__name:"AbilityComp",props:{abilityTitle:{},rankList:{}},emits:["onListCompClick"],setup(a,{emit:t}){const e=t,s=a=>{e("onListCompClick",a)};return(a,t)=>{const e=K;return o(),r("div",W,[c("div",$,m(a.abilityTitle),1),c("div",J,[c("div",Q,[c("div",X,[(o(!0),r(u,null,_(a.rankList,((a,t)=>(o(),r("div",Y,[h(e,{isShowRank:!0,rankNum:t+1,coverData:a,onOnCompClick:s},null,8,["rankNum","coverData"])])))),256))])])])])}}}),[["__scopeId","data-v-55161644"]]),aa=l({__name:"ShortSkeleton",setup:a=>(a,t)=>(o(),r(u,null,_(3,(a=>h(d(O),{viewBox:"0 0 1024 622",primaryColor:"#353535",secondaryColor:"#858585",secondaryOpacity:.5,speed:2,key:a},{default:y((()=>t[0]||(t[0]=[c("rect",{x:"58",y:"0",rx:"5",ry:"5",width:"199",height:"56"},null,-1),c("rect",{x:"58",y:"92",rx:"10",ry:"10",width:"276",height:"378"},null,-1),c("rect",{x:"58",y:"482",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"58",y:"520",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"366",y:"92",rx:"10",ry:"10",width:"276",height:"378"},null,-1),c("rect",{x:"366",y:"482",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"366",y:"520",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"674",y:"92",rx:"10",ry:"10",width:"276",height:"378"},null,-1),c("rect",{x:"674",y:"482",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"674",y:"520",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"982",y:"92",rx:"10",ry:"10",width:"276",height:"378"},null,-1),c("rect",{x:"982",y:"482",rx:"5",ry:"5",width:"276",height:"30"},null,-1),c("rect",{x:"982",y:"520",rx:"5",ry:"5",width:"276",height:"30"},null,-1),g("\\ ")]))),_:2},1024))),64))}),ta="/png/coming_Soon_icon-D8k_78oW.png",ea=()=>s.post({cmd:1002}),sa=()=>s.post({cmd:1003}),ia=l({__name:"GameSkeleton",setup:a=>(a,t)=>(o(),r(u,null,_(3,(a=>h(d(O),{viewBox:"0 0 1024 612",animate:"",primaryColor:"#353535",secondaryColor:"#858585",secondaryOpacity:.5,key:a},{default:y((()=>t[0]||(t[0]=[c("rect",{x:"58",y:"0",rx:"10",ry:"10",width:"908",height:"329"},null,-1),c("rect",{x:"111",y:"365",rx:"15",ry:"15",width:"85",height:"85"},null,-1),c("rect",{x:"216",y:"367",rx:"5",ry:"5",width:"240",height:"32"},null,-1),c("rect",{x:"216",y:"419",rx:"5",ry:"5",width:"102",height:"29"},null,-1),c("rect",{x:"330",y:"419",rx:"5",ry:"5",width:"102",height:"29"},null,-1),c("rect",{x:"437",y:"419",rx:"5",ry:"5",width:"102",height:"29"},null,-1),c("rect",{x:"111",y:"476",rx:"10",ry:"10",width:"802",height:"40"},null,-1),c("rect",{x:"111",y:"536",rx:"10",ry:"10",width:"802",height:"40"},null,-1)]))),_:2},1024))),64))}),na={class:"discover_wrapper"},la={class:"top_tab_content"},oa={key:3,class:"rank_list_container"},ra={class:"rank_list"},ca={class:"top_tab_content"},da={class:"game_list_wrapper"},ma={class:"action_content"},ua=["src"],_a={class:"game_info"},va=["src"],ha={class:"game_introduce"},ya={class:"top_tab_content"},ga={class:"top_tab_content"},ka=e(l({__name:"DiscoverPage",setup(e){const{SHORTS:s,GAMES:l,NOVELS:g,ANIMATIONS:O}=i,I=L(),A=k(s),P=k(!1),B=k({});let R=k([]),E=p({likerank:[],saverank:[],newrank:[],pickrank:[]});const z=k(!1),H=k(!1);x((()=>{M()}));const M=()=>{switch(A.value){case s:W();break;case l:K()}},V=a=>{A.value!==a&&(A.value=a,M())},q=a=>{B.value=a,P.value=!0},F=a=>{I.push({path:"/videoPlay",query:{shortId:a}})},K=()=>a(this,null,(function*(){R.value=yield ea(),yield w((()=>{H.value=!0}))})),W=()=>a(this,null,(function*(){const a=yield sa();E=Object.assign(E,a),yield w((()=>{z.value=!0}))}));return(a,e)=>{const i=j,k=aa,p=Z,x=U,w=T;return o(),r("div",na,[h(i,{tabList:d(n),isShowSearch:!0,onOnTabChange:V},null,8,["tabList"]),C(c("div",la,[d(z)?(o(),r(u,{key:1},[d(E).likerank.length?(o(),f(p,{key:0,"ability-title":"Like List",rankList:d(E).likerank,onOnListCompClick:F},null,8,["rankList"])):v("",!0),d(E).saverank.length?(o(),f(p,{key:1,"ability-title":"Save List",rankList:d(E).saverank,onOnListCompClick:F},null,8,["rankList"])):v("",!0),d(E).newrank.length?(o(),f(p,{key:2,"ability-title":"New List",rankList:d(E).newrank,onOnListCompClick:F},null,8,["rankList"])):v("",!0),d(E).pickrank.length?(o(),r("div",oa,[e[2]||(e[2]=c("div",{class:"list_title"},"Top Picks",-1)),c("div",ra,[(o(!0),r(u,null,_(d(E).pickrank,(a=>(o(),f(N,{key:a.id,coverData:a,onOnCompClick:F},null,8,["coverData"])))),128))])])):v("",!0)],64)):(o(),f(k,{key:0}))],512),[[b,d(A)===d(s)]]),C(c("div",ca,[d(H)?(o(),r(u,{key:1},[c("div",da,[(o(!0),r(u,null,_(d(R),(a=>(o(),f(x,{key:a.id,gameData:a,onOnGameClick:q},null,8,["gameData"])))),128))]),h(w,{show:d(P),"onUpdate:show":e[1]||(e[1]=a=>D(P)?P.value=a:null),closeable:!1,round:!1,"safe-area-inset-bottom":!1},{default:y((()=>[c("div",ma,[e[3]||(e[3]=c("div",{class:"action_line"},null,-1)),c("img",{src:d(t)(d(B).poster),alt:"",class:"game_img"},null,8,ua),c("div",_a,[c("img",{src:d(t)(d(B).icon),alt:"",class:"game_icon"},null,8,va),c("div",ha,m(d(B).des),1),c("div",{class:"start_btn",onClick:e[0]||(e[0]=S((a=>{return t=d(B).linkurl,G(`TODO linkurl: ${t}`),void(P.value=!1);var t}),["stop"]))},"Start")])])])),_:1},8,["show"])],64)):(o(),f(ia,{key:0}))],512),[[b,d(A)===d(l)]]),C(c("div",ya,e[4]||(e[4]=[c("div",{class:"coming_soon_container"},[c("div",{class:"coming_soon_box"},[c("img",{src:ta,alt:"",class:"coming_soon_icon"}),c("div",{class:"comping_soon_text"},"Coming Soon")])],-1)]),512),[[b,d(A)===d(g)]]),C(c("div",ga,e[5]||(e[5]=[c("div",{class:"coming_soon_container"},[c("div",{class:"coming_soon_box"},[c("img",{src:ta,alt:"",class:"coming_soon_icon"}),c("div",{class:"comping_soon_text"},"Coming Soon")])],-1)]),512),[[b,d(A)===d(O)]])])}}}),[["__scopeId","data-v-2805ab37"]]);export{ka as default};
