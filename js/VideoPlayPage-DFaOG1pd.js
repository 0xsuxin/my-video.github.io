var s=(s,e,l)=>new Promise(((i,a)=>{var o=s=>{try{c(l.next(s))}catch(e){a(e)}},t=s=>{try{c(l.throw(s))}catch(e){a(e)}},c=s=>s.done?i(s.value):Promise.resolve(s.value).then(o,t);c((l=l.apply(s,e)).next())}));import{_ as e,j as l,g as i}from"./index-MjaGMYEZ.js";import{s as a,_ as o,a as t}from"./ProgressBar-C6nalGQg.js";import{j as c,W as n,K as d,k as A,N as v,T as u,q as r,z as p,A as m,E as g,L as f,r as h,e as O,u as k,D as y,G as _,d as U,y as P,F as b,B}from"./vue-vendor-BPs1j0Jh.js";import{b as E,S as w}from"./vant-DsOUqIe7.js";const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABkCAMAAAAvz+deAAAAPFBMVEUAAADo6Ojt7e3s7Ozs7Ozq6urr6+vt7e3s7Ozf39/q6urv7+/t7e3r6+vt7e3t7e3q6urs7Ozt7e3s7OwhvBjJAAAAE3RSTlMAIN+fgGBA778QMBDPcK9vUJCPB6AGBwAAAktJREFUaN7tmOGOozAMBnHiJoEC1928/7ueWipZFaRTwKeTVvv9W6mMthnXjul+8z8zJHdkKrWG5I18JIobUuKCdMT2mo1pWBekJehJ5iXXjYTLGT/jiodYVt7MwfqSBvKEsf4biIAF5V7YP4A8UF8pAAcKAZQ7YQdAHqivPlYIGAPlDlhDumIvoTok6CnlXAixOmZ+fvXqmuUIgi8035nX6px7DYg3NP2L//R6//7FlxmWKvWFPitVfSvK7jVOKUNnGUYXZOq8W0q4Gc0Jm7XvtnLV7Ik0Y37DhLDshyLFFWnGfGY+Y9kPR4M3ko2x8qHUcGEs+9FcR3k+nFsnLmUP8hYeZyIvE3oc0Jgpb18Xvx5/tk7JsOxnKK/TVOjwNRCyj++naVZpGeO7nUG7TAdm2JIQWbONKMSOC5KPPC5tNHx03R6GjzaEIO0qj3Jsz4ymcR+2/UxJuD2p0FLYRtqRszFDwocBCx/ENihKe5f5YSQYAyQ4BSwoXwXuVSqsfB02BsoPYkE5hu9VjLxFmHufbs2TgWboouu02qCtkZOdebsQGJnK5hpZaJzyMLU1ksYp+5G4Gnw8TmGYaqY18u04nXmY2hrJ47SpPLfXSMbOcUv5iGskv73izjpBu4PIDE/tx/YKvwkYp/uGKbe7Cd6wvso9M07Tzs6qgN0xTMFYkfdrQHyH5ELov+FlBGynKywoPzb3dEs5IBnb+EnuygRYUs7XtXW+AImF0KoyPywr56RwSjkXgil3wppyr1x1wbohzViUzj199+PyF0qtGxdpXIUdAAAAAElFTkSuQmCC",Y={key:0,class:"select_episode_container"},C=e(c({__name:"EpisodeSelectComp",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(s){const e=n(s,"modelValue"),l=()=>{e.value=!1};return(s,i)=>(p(),d(r,{to:"body"},[A(u,{name:"select-slide"},{default:v((()=>[e.value?(p(),m("div",Y,[g("div",{class:"top_box"},[i[0]||(i[0]=g("div",{class:"title_box"},[g("img",{src:M,alt:"",class:"select_icon"}),g("div",{class:"title"},"Select of Episodes")],-1)),g("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ4AAACeCAMAAAD0W0NJAAAAUVBMVEUAAAA6OTk4ODg6OTk4ODhAQEA6ODg5OTk1NTU5ODg5OTk5ODg5ODg5OTk6OTk6OTk6OTn///+dnJyDg4N3dnbz8/OQkJBGRUXn5uZSUlJ3d3fAyuCHAAAAEHRSTlMA30DvIBCAnzBwv2BQr5DPf7m74AAAA0hJREFUeNrtm+uSoyAQRpubotHMp+Y67/+gu+5UTeaW7SCgvVnOb6pyik432AAVCoVCoVAoFAqF/x5rvZ6xjkRhu6p+UfiAavuq87Q9uukN7mDaZktFp2sDBlV3tAl6f3NjDDWtjGtaBKB2tCKuMghEVZZ+RILcm6CjFWg+yQkLsW4RgcobYbdHJBXlwyv8QeYENviDzAl0NRJRZ0hh+x5YiQH2CglRnpKiDZJiNCVkh+TsRNsl9NPIQqL4eoMsGC+toqSvL04hG8pRLDUyUlMkFbLSUBQWmYlLD4VvCPr7VcjOXnBoZ7Tc0M60opba7zTyCvJHjJOaF29Ustba79MnefKAKkPanl+n1ytYztP0yk9f8rQ9HYffjHhk2GXikjf15E2zHO83Dm+cEtc+jb9zGW5+vN1wPDNLR9pt3mF4Z2TtZg7Myps8trzfONyYkiZHB17v5sfZ8bMHnTK2OB9Zv9nuxjXptl6B4TQwfuOXAQyGAvBgYH6et4uKboMIP94utjK3WOAXZYc+QM9ggV+UHUzkX4/3i7EDbGTV4/1i7NDFb/V4P94uftPXY6nfcjvU8YnL+y22w0v8msH7LbaDokdBEGMSO4AexCGMMYkdbK7WypjCDjZbJ35MYAefTQ9jvB10Pj2MrF3RExFcD4Y8qaGfo7AwernKsnuORU36luAFN1bbULULegQrbkf7Z9nMC/8UskvtYvz8s3yGU7/ILsqvfZ4WkMbqDTRPAZhAO27ACQwqafP2OoQ1b49nvkeQMLqH0Nb3xFa9EJxZ9+BAURj7dY9d6rSHVudj2KHVZcFGPqZLdQo48ksfW74yT5c5IU8A78cP21EozoDhME1nsFwP04Ebpp7vsN4ZrISyz3dRZLXpU27TK/zZbgi3WAEl7cIy01qJXXkF5MXdS2hiQnun1ScmtD9mr5zQ/gPXqqVfShd+pV/6gwjpz0mkP8aR/pRJ+kMw6c/opD9ClP6Ec8HHB99olBfgT387cRO4/xJYURPYasrNbrGgaWgFXKUWyVWO1sFWSq7cghC3jaOV0fWDhmavaRM63tDU2tF2+KY1d9X6RtP2+K7qW4UPqJe66iyJwlk9460wr0KhUCgUCoVCobABvwCjLbSpRC6W+AAAAABJRU5ErkJggg==",alt:"",class:"close_icon",onClick:l})]),i[1]||(i[1]=g("div",{class:"episode_group_box"},[g("div",{class:"episode_group"},[g("div",{class:"item current_item"},"1-20"),g("div",{class:"item"},"21-40"),g("div",{class:"item"},"41-60"),g("div",{class:"item"},"61-80"),g("div",{class:"item"},"81-100"),g("div",{class:"item"},"101-120")])],-1)),i[2]||(i[2]=g("div",{class:"episode_list"},[g("div",{class:"list_item current_play"},[g("div",{class:"left"},[g("div",{class:"icon"}),g("div",{class:"episode_num"},"Episode 1")]),g("div",{class:"right_icon"})]),g("div",{class:"list_item free"},[g("div",{class:"left"},[g("div",{class:"icon"}),g("div",{class:"episode_num"},"Episode 2")]),g("div",{class:"right_icon"})]),g("div",{class:"list_item unlock"},[g("div",{class:"left"},[g("div",{class:"icon"}),g("div",{class:"episode_num"},"Episode 3")]),g("div",{class:"right_icon"})]),g("div",{class:"list_item watch_ad"},[g("div",{class:"left"},[g("div",{class:"icon"}),g("div",{class:"episode_num"},"Episode 4")]),g("div",{class:"right_icon"})]),g("div",{class:"list_item lock"},[g("div",{class:"left"},[g("div",{class:"icon"}),g("div",{class:"episode_num"},"Episode 5")]),g("div",{class:"right_icon"})])],-1))])):f("",!0)])),_:1})]))}}),[["__scopeId","data-v-2f2aaf4f"]]),R={class:"video_play_wrapper"},j={class:"episode_container"},z={class:"select_right"},D={class:"episode_num"},V=["src"],K=e(c({__name:"VideoPlayPage",setup(e){const c=h([]),n=P(),u=h(!1),r=h(),Y=h(!1),K=h(0),x=h(0),T=h(0),J=h(0);O((()=>{const{shortId:s}=n.query;J.value=Number(s),F()}));const F=()=>s(this,null,(function*(){const s=yield a.getShortInfo({id:J.value});x.value=s.total,yield G(c.value.length+1),yield G(c.value.length+1),yield G(c.value.length+1),yield G(c.value.length+1)})),G=e=>s(this,null,(function*(){const s=yield a.getShortDetail({id:J.value,ep:e}),i=l(s.url);c.value.push(i)})),S=e=>s(this,null,(function*(){K.value=e,yield G(c.value.length+1)})),N=()=>s(this,null,(function*(){var s;yield G(T.value+1),null==(s=null==r?void 0:r.value)||s.next()}));return(s,e)=>{const l=o,a=t,n=w,h=E;return p(),m("div",R,[k(c).length?(p(),d(h,{key:0,ref_key:"swipeRef",ref:r,class:"my_swipe_box",vertical:"",loop:!1,duration:300,"show-indicators":!1,onChange:S},{default:v((()=>[(p(!0),m(b,null,B(k(c),((s,e)=>(p(),d(n,{key:e},{default:v((()=>[A(a,{url:s,ep:e+1,"short-id":k(J),"is-full-screen":k(Y),"swiper-index":k(K),"video-index":e,onOnPlayEnd:N},{default:v((({record:s})=>[A(l,{progress:s.progress,class:"bottom-[174px]","video-ref":s.videoRef},null,8,["progress","video-ref"])])),_:2},1032,["url","ep","short-id","is-full-screen","swiper-index","video-index"])])),_:2},1024)))),128))])),_:1},512)):f("",!0),g("div",j,[g("div",{class:"episode_select",onClick:e[0]||(e[0]=y((s=>u.value=!0),["stop"]))},[e[4]||(e[4]=g("div",{class:"select_left"},[g("img",{src:M,alt:"",class:"episode_icon"}),g("div",{class:"select_text"},"Select of Episodes")],-1)),g("div",z,[g("div",D,"EP.1/"+_(k(x)),1),e[3]||(e[3]=g("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB8BAMAAABZMMmNAAAAFVBMVEUAAADPz8/Pz8/Pz8/Pz8/Pz8/Pz89MYwKaAAAABnRSTlMAf98gcBBh1vYyAAAA00lEQVRYw+3NsQ0CQRBD0UE0cBENIIgRogM6oIMl2P5LYKKZS4wlLyLyjywnL5xzzjnn3H86bLHSaSzhc24r+JxjCS9ew4uX8OJVPHkZL17Hkxfx4jW8eA1vXsKb1/DmJbx5DW9ewkcNCd96KfhuKvh+KzjhGU54ghOe4YTnOOY5TniOY57j+OM4OTmOX46Tm+P85zjnASLwrzYQfwnc8VoE4N+3+NK9cMCfIyifOOAbx3ziiE+c8okDvnHMJ474xCmfOOATpz0C9gznnHPOOed+3wfhEcm/ob674wAAAABJRU5ErkJggg==",alt:"",class:"arrow_up"},null,-1))])]),g("img",{src:k(Y)?k(i)("out_screen_icon"):k(i)("full_screen_icon"),alt:"",class:"full_screen_icon",onClick:e[1]||(e[1]=y((s=>Y.value=!k(Y)),["stop"]))},null,8,V)]),A(C,{modelValue:k(u),"onUpdate:modelValue":e[2]||(e[2]=s=>U(u)?u.value=s:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-d4696e08"]]);export{K as default};
