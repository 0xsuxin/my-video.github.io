var t=Object.defineProperty,e=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(e,l,r)=>l in e?t(e,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[l]=r,i=(t,i)=>{for(var n in i||(i={}))l.call(i,n)&&a(t,n,i[n]);if(e)for(var n of e(i))r.call(i,n)&&a(t,n,i[n]);return t},n=(t,e,l)=>new Promise(((r,a)=>{var i=t=>{try{s(l.next(t))}catch(e){a(e)}},n=t=>{try{s(l.throw(t))}catch(e){a(e)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,n);s((l=l.apply(t,e)).next())}));import{j as s,r as c,e as o,l as d,z as u,A as y,Q as v,E as h,C as x,G as m,u as p,L as g,k as f,N as A,F as w,B as b,n as _,s as k,v as C,K as z,D}from"./vue-vendor-Bp1vkiaO.js";import{_ as I,r as T,f as j,b as W}from"./index-SUJifcap.js";import{_ as B}from"./calendar_icon-DPvMFugm.js";import{p as N,n as L}from"./numberUtils-DA0a_630.js";import{C as R}from"./vue-content-loader.es-CHEsjOy4.js";import{_ as X}from"./TopTabs-CkUf4HTZ.js";import{e as E,c as F}from"./customToast-Cbq3c9aX.js";import{d as O}from"./dayjs.min-D9PZS8U1.js";import{s as S}from"./vant-SUiVHmz4.js";import"./search_icon-fD3olb4c.js";const H={class:"infinite-scroll"},M=I(s({__name:"InfiniteScroll",props:{loading:{type:Boolean,default:!1},finished:{type:Boolean,default:!1},threshold:{default:0},root:{default:null}},emits:["load"],setup(t,{emit:e}){const l=t,r=e,a=c(null),i=c(null),n=c(!0);return o((()=>{(()=>{if(!a.value)return;const t={root:l.root,rootMargin:`0px 0px ${l.threshold}px 0px`,threshold:0};i.value=new IntersectionObserver((t=>{const e=t[0];n.value?n.value=!1:e.isIntersecting&&(l.loading||l.finished||r("load"))}),t),i.value.observe(a.value)})()})),d((()=>{i.value&&(i.value.disconnect(),i.value=null)})),(t,e)=>(u(),y("div",H,[v(t.$slots,"default",{},void 0),h("div",{ref_key:"observerTarget",ref:a,class:"observer-target"},null,512)]))}}),[["__scopeId","data-v-65a750ea"]]),G={class:"rank_comp_container"},U={class:"left_box"},K={class:"rank_img_box"},V={key:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAA3CAMAAACRrFwbAAACIlBMVEUAAAD/23z/3nv/8Yz/3oL/02z/1mv/34//xU//32j/1Gr/w0n/zFX/7pD/wj7/yGv/zEX/71n/6Xf/1Vb/wTX/x2D/2GL/+If/wE7/w1v/3pH/ynn/uzD/wDH/wFz/05D/1or/+3//50D//0j/6Xb/xy3/1FH/rkD/84n/1mH/xWH/vDr/00//yW7/647/2ZL/00z//ZT/1mz4miD/rDv/6jD//lT/03z/xDT/0GX/1Yf/8or/12T/0GX/wVP/vzb/9XT+p0D/zT//2ZD/1Hz/yTD/y1z/5FL/ylj/y37/4mD/s03/+2D/8Ib/rxX/ykv/zjb/8Ib/05D/+JT/2Zb/vBr/rT3/9Gn/rCb/wCb/uiP/sSb/wS3/vCv/tSb/rSz/uCj/tCn/wTb/1ET/xjH/xif/sCX/rzj/zTb/pyf/yz3/4yv/syH/lRL/uDb/yDX/pCb/vDz/tRb/lgX/2VP/tS7/oB7/qBr/mxj/rw3/ySj/vUX/w0D/og//uzL/6Cf/3Vj/oSr/8Sb/jAP/4WD/0y//zyn/1Cb/rR7/yFT/10z/0Tz/4mb/tFn/uU//sU3/wkz/xkn/sUP/2TT/7Cn//ij/qQz/nQf7dQL/vGj/yGL/pjT/1yr/vB//hQL/527/wVj/uEX/7kT/uxX3iwv3gAj/zIn/6TP/+TL+fgP/vF7/p0L/4Dj/whXWcw3/7X3/xXnvewnvn0zShkP/0g+5YQknfFOgAAAAWHRSTlMADhYIHlswRfGIQz83IR7+/fz408mFbk5IKCbz8uLZvqld/fzq6ejn0Ly1s6OJcl9NLv788uvm5dPJyK+umpR/e2xZ/fv28uji39fJwb65taecj4Rr3taPLDyZCAAABohJREFUWMPt1mlbElEUB/ABySW1NLOyfd/3fd/3fW/ubMzcGWQCxQARQQSzVMwyTdNyKculfa/v17mzAKVQL3vR3wcfYODHOffci1L/8w9mcmnepCwqUyzZkwv/zlrXWaXKezNp2SWyfCIv6y+sSbkcCoddMzLUdVJtGhiQ073Cakne34sZhBzKLkv6j8Ph5paWpuUTXcuatKqkJM9qPtylMCTz02PreOQIN4dbySs2LVpU+Mu1XKyo8ipzCfJcKNTTU746fZsz6FBoGCm50NGN7UuWbF+fvFSYG2BQuFmeZDy2leCeYO2KbLPu8etc+LA+HhK9pfDBL18/fvx4yczkCnglAaGwutZ8YvaqWn9wzRR9l6wqLj4783dtf6Xfv3W1lbIudzcC9vpsVgKLSALDDKILycnPRQ40r0CbrOp+9XrJol+HeQBzw7WH4F5B0UCsEbATtsRbi3hBEEKhA1RiBBGHA6Flsyjr/ChqcXe/3m5Nnfx0xGHFtRaqKQt8aHHHYu7TieuWvS5eitfXTEkcgD6OcyDQ8id3iIwDtJfZKdYaRDB5eRm89XzPYLilRd2XUnZebl3vHf9h8/HqTgfHIaKVRiSWaIsnU2amgIV4r9Km7dlD/nqJ986fTaXEts/fG5qbrz8oOI4NDB3r5NkKxtGkTklY04kV9WBVhoFtvDYyumV+qY36JTMjPgbt1LfpvlawdAwpOMCyPD6faAIswAKBqCqXWAq2ub9/8OSMOwRLOeRwXNTW5GTExEiw3W6fbhZWNp0h4SvYAPS5cVtjY2NXn9ljMpdkBBpZtkmtSpJCHc5gDXv3oF5z/k7NEvk4LXFtMrHcRTuoccm57wJsmRWWvwMsBhy4MZ11NE0zXcWatnEeo2NS0M5y6vvuxsZYW+tCanyWVkOj4YtUQW6E4xgGJPiF66RyulxgmopnUFMOzDUtNmi3813d3Y0xtXPqhgmwS/dlKE05XApdauuC4IZFgS0vJ9ritfNEeLYCfgSJpp12zt3dHWtyte6wTYBtmtbggtKOHW9VkIlhHjAWMIFpXuxgIAAKQiBOOz3uGLE6+6DL8bGcu3uvCmpzFWHG5wOMQWCJApTGsoKImt8jQY8kBWlPVywWG6iKdECXE2XR8waZIxoWfZqGeQMrZwVNY0CqqGAlOhhvcsfcxBo6NXtCzLb0bjXRFBz1hUDDHMEkDQONQc1dCCzAgsEmt9vdUhWJdECXE2fP84Z7Lg5xCvaFQj4erASWqrFsnFgDCo7UDU3NSYPNnHa3+p7KcwrU5sVcEtNLAy3c1cZX8FXvX0FdxKob2m1Ng1lW3m+ollUeR1r7OrlxmK4VF798+eqVu1nB3rq69qmXqXS58hxKk1UuijGXitGmJkKriwEbCIMF2NCcdF2SrUZKk9UqRbfMacKJYhOaIxx2cBh7AWt/u5tKnz1aaW26xpuVsQQjIZrIw2SixHoBXV7NgMEISGkuExMNLKlJIuGiHg9g7W/nWNNbtsubq6uhtCRmWklOkgIBD8T7gmAb0lqWBWNfbwawqwgwg5IkwzI5SccgTqez/8GR9WkL2zH27cfHkcqgFI1GA5Jkh9D0TS2pHHk6WN9bWTn69UjaCWSd29y+5ePHj19GRypTUmukBhIkAajX779zxy+1bl6Yts9F0xpkl4feMvLlyxMjb968efbs2R0tfiO9vfU9IR9yVHUOwaKln+ZS0MjGEIV4TW3lyMjo6ChoEEJpxvCHDw4Ix2Fvxj0LWQkbTec4xDPwhWOEgf9FBgeRFp7E43n08MHTBVSmXPkEmAycWkX2hrb/zZBtpk+lv/8d5OGDz+szYps+3QesDSwFijN3B02Tod66ddtIf3+/0/nowdOxwowY9NlAzpNxoEhlrC7puXnTrgUsrcvMWa/16TIxMWXTks1mNyzA2t9+vprZsiyAL47fML1LGigDCxiFfV6YlRHLGZsKh3MCzAA1CizAQBvLyYgVHn366EVdBEO43865dqTMLgn3ou/o7Mx97rnf0Q/zshsBA3IrsfzGACRJEKMdfX8aQOFK2BuYrjEPZY0ZsOh4vMIHGR4eRNjb/pT8ycwcy8HTDffaVIUXy+PBmtp6PT09IQg4zCAjBgJO58MH89dZqT8nKyevZHmRqk+ALFo5bcZYsa0rzpROtlB/G2v2xhn7L0zfOW/e3LkeT8A0Vlw/s2b/oVllaaDMNVptZdkF+fmzIPn5BdllNkvmnfUTn7VEBA1xPM4AAAAASUVORK5CYII=",alt:"",class:"crown_icon_img"},P={class:"info_box"},Y={class:"name"},Q={class:"tips"},Z={class:"red_text"},q={class:"right_box"},J={class:"rank_points"},$=I(s({__name:"RankingComp",props:{rankNum:{},rankData:{}},setup(t){const e={0:"num_1",1:"num_2",2:"num_3"};return(t,l)=>(u(),y("div",G,[h("div",U,[h("div",{class:x(["rank_num",t.rankNum<=2&&t.rankNum>=0?e[t.rankNum]:""])},m(p(N)(t.rankNum+1)),3),h("div",K,[h("div",{class:x(["img_gradient_border",t.rankNum<=2&&t.rankNum>=0?e[t.rankNum]:""])},[l[0]||(l[0]=h("img",{src:"/png/rank_avatar-CooZvZJE.png",alt:"",class:"rank_img_border"},null,-1)),0===t.rankNum?(u(),y("img",V)):g("",!0)],2),h("div",P,[h("div",Y,m(t.rankData.name),1),h("div",Q,[h("span",Z,m(t.rankData.fnum),1),l[1]||(l[1]=h("span",{class:"normal_text"},"Friends",-1))])])])]),h("div",q,[l[2]||(l[2]=h("img",{src:B,alt:"",class:"point_img"},null,-1)),h("div",J,m(p(L)(t.rankData.points)),1)])]))}}),[["__scopeId","data-v-7a7868a4"]]),tt=I(s({__name:"InviteSkeleton",setup:t=>(t,e)=>(u(),y(w,null,[f(p(R),{viewBox:"0 0 908 262",animate:"",primaryColor:"#353535",secondaryColor:"#858585",secondaryOpacity:.5},{default:A((()=>e[0]||(e[0]=[h("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"455",height:"70"},null,-1),h("circle",{cx:"25",cy:"165",r:"25"},null,-1),h("rect",{x:"60",y:"138",rx:"5",ry:"5",width:"97",height:"50"},null,-1),h("rect",{x:"170",y:"138",rx:"5",ry:"5",width:"600",height:"50"},null,-1),h("circle",{cx:"25",cy:"238",r:"25"},null,-1),h("rect",{x:"60",y:"212",rx:"5",ry:"5",width:"97",height:"50"},null,-1),h("rect",{x:"170",y:"212",rx:"5",ry:"5",width:"600",height:"50"},null,-1)]))),_:1}),f(p(R),{viewBox:"0 0 908 245",animate:"",class:"invite_info",primaryColor:"#353535",secondaryColor:"#858585",secondaryOpacity:.5},{default:A((()=>e[1]||(e[1]=[h("circle",{cx:"110",cy:"122",r:"110"},null,-1),h("rect",{x:"258",y:"0",rx:"10",ry:"10",width:"184",height:"58"},null,-1),h("rect",{x:"258",y:"94",rx:"10",ry:"10",width:"268",height:"60"},null,-1),h("rect",{x:"258",y:"185",rx:"10",ry:"10",width:"268",height:"60"},null,-1),h("rect",{x:"696",y:"73",rx:"10",ry:"10",width:"212",height:"100"},null,-1)]))),_:1}),f(p(R),{viewBox:"0 0 908 938",animate:"",primaryColor:"#353535",secondaryColor:"#858585",secondaryOpacity:.5},{default:A((()=>e[2]||(e[2]=[h("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"298",height:"60"},null,-1),h("rect",{x:"50",y:"116",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"116",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"140",r:"24"},null,-1),h("rect",{x:"675",y:"116",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"212",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"212",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"234",r:"24"},null,-1),h("rect",{x:"675",y:"212",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"308",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"308",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"332",r:"24"},null,-1),h("rect",{x:"675",y:"308",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"404",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"404",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"428",r:"24"},null,-1),h("rect",{x:"675",y:"404",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"500",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"500",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"524",r:"24"},null,-1),h("rect",{x:"675",y:"500",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"596",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"596",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"620",r:"24"},null,-1),h("rect",{x:"675",y:"596",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"50",y:"692",rx:"5",ry:"5",width:"222",height:"48"},null,-1),h("rect",{x:"351",y:"692",rx:"5",ry:"5",width:"192",height:"48"},null,-1),h("circle",{cx:"645",cy:"716",r:"24"},null,-1),h("rect",{x:"675",y:"692",rx:"5",ry:"5",width:"174",height:"48"},null,-1),h("rect",{x:"0",y:"803",rx:"10",ry:"10",width:"655",height:"135"},null,-1),h("rect",{x:"667",y:"803",rx:"10",ry:"10",width:"174",height:"135"},null,-1)]))),_:1})],64))}),[["__scopeId","data-v-55003de7"]]),et=t=>T.post({cmd:1006,msg:i({},t)}),lt=t=>T.post({cmd:1007,msg:i({},t)}),rt=()=>T.post({cmd:1010}),at=I(s({__name:"RankSkeleton",setup:t=>(t,e)=>(u(),y(w,null,b(9,(t=>f(p(R),{viewBox:"0 0 908 192",animate:"",class:"rank_item",primaryColor:"#353535",secondaryColor:"#858585",index:t,secondaryOpacity:.5},{default:A((()=>e[0]||(e[0]=[h("rect",{x:"0",y:"73",rx:"5",ry:"5",width:"49",height:"47"},null,-1),h("circle",{cx:"131",cy:"96",r:"49"},null,-1),h("rect",{x:"213",y:"38",rx:"5",ry:"5",width:"220",height:"50"},null,-1),h("rect",{x:"213",y:"105",rx:"5",ry:"5",width:"220",height:"50"},null,-1),h("circle",{cx:"634",cy:"96",r:"25"},null,-1),h("rect",{x:"679",y:"73",rx:"5",ry:"5",width:"202",height:"47"},null,-1)]))),_:2},1032,["index"]))),64))}),[["__scopeId","data-v-0b30ebd4"]]),it={class:"frens_wrapper"},nt={class:"invite_wrapper"},st={class:"invite_introduce"},ct={class:"tips_box"},ot={class:"tips"},dt={class:"red_text"},ut={class:"tips"},yt={class:"red_text"},vt={class:"user_points_box"},ht={class:"honors_box"},xt={class:"points_num"},mt={class:"friends_num"},pt={class:"red"},gt={key:1,class:"handle_btn disabled"},ft={class:"invitation_list"},At={class:"list_content"},wt={class:"content_box"},bt={class:"item_date"},_t={class:"item_name"},kt={class:"item_img_box"},Ct={class:"item_points"},zt={class:"bottom_btns"},Dt={class:"observer_root",ref:"observerRoot"},It=I(s({__name:"FrensPage",setup(t){const{INVITE:e,RANKING:l}=j,r=c(e),a=c({point_cfg:0,percent_cfg:0,unclaimed:0,total_num:0,friends:[],iv_code:""}),i=c([]),s=c(null),d=c(!1),v=c(!1),x=c(!1),g=c(!1),I=c(0),T=c(null);o((()=>{N()}));const N=()=>{r.value===e?G():r.value===l&&(g.value||K())},R=t=>{r.value!==t&&(r.value=t),N()},H=()=>n(this,null,(function*(){const t=yield E.claimPoint({type:5});yield G(),F.success(t.awards)})),G=()=>n(this,null,(function*(){a.value=yield et({page_cap:20,page_index:1}),yield _((()=>{x.value||(x.value=!0)}))})),U=()=>n(this,null,(function*(){try{const t=yield rt(),{code:e}=t;e&&(T.value=e,S(`Invitation code：${e}`))}catch(t){S("Failed to obtain invitation code")}})),K=()=>n(this,null,(function*(){var t;if(!d.value){d.value=!0;try{const e=yield lt({page_cap:20,page_index:I.value});(null==(t=null==e?void 0:e.ranks)?void 0:t.length)?(i.value=[...i.value,...e.ranks],I.value++):v.value=!0,yield _((()=>{g.value||(g.value=!0)}))}finally{d.value=!1}}})),V=()=>{T.value?P():S("Please obtain the invitation code first")},P=()=>n(this,null,(function*(){if(navigator.clipboard)try{yield navigator.clipboard.writeText(T.value),S("copy success")}catch(t){S("copy failed"),console.error("复制失败:",t)}else{console.error("Clipboard API is not supported in this browser.");const t=document.createElement("textarea");t.style.opacity="0",t.style.position="absolute",t.style.left="2000px",t.value=T.value,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),S("copy success")}}));return(t,n)=>{const c=X,o=tt,_=$,I=M;return u(),y("div",it,[f(c,{tabList:p(W),onOnTabChange:R},null,8,["tabList"]),k(h("div",nt,[p(x)?(u(),y(w,{key:1},[h("div",st,[n[4]||(n[4]=h("div",{class:"title"},"Invite Friends!",-1)),h("div",ct,[h("div",ot,[n[0]||(n[0]=h("img",{src:B,alt:"",class:"tips_icon"},null,-1)),h("div",dt,"+"+m(p(a).point_cfg),1),n[1]||(n[1]=h("div",{class:"tips_text"},"$Honors for you and your friend",-1))]),h("div",ut,[n[2]||(n[2]=h("img",{src:B,alt:"",class:"tips_icon"},null,-1)),h("div",yt,"+"+m(p(a).percent_cfg)+"%",1),n[3]||(n[3]=h("div",{class:"tips_text"},"$Honors of your friend's total",-1))])])]),h("div",vt,[n[7]||(n[7]=h("img",{src:B,alt:"",class:"user_avatar"},null,-1)),h("div",ht,[n[6]||(n[6]=h("div",{class:"honors"},"$Honors",-1)),h("div",xt,m(p(L)(p(a).unclaimed)),1),h("div",mt,[h("span",pt,m(p(a).total_num),1),n[5]||(n[5]=h("span",{class:"common"},"Friends",-1))])]),p(a).unclaimed?(u(),y("div",{key:0,class:"handle_btn",onClick:D(H,["stop"])},' 0"">Claim')):(u(),y("div",gt,"Claim"))]),h("div",ft,[n[10]||(n[10]=h("div",{class:"list_title"},"Invitation list",-1)),h("div",At,[h("div",wt,[(u(!0),y(w,null,b(p(a).friends,((t,e)=>{return u(),y("div",{class:"list_item",key:e},[h("div",bt,m((l=t.add_ts,O(l).format("YYYY-MM-DD"))),1),h("div",_t,m(t.name),1),h("div",kt,[n[8]||(n[8]=h("img",{src:B,alt:"",class:"item_img"},null,-1)),h("div",Ct,m(p(L)(t.points)),1)])]);var l})),128))])]),h("div",zt,[h("div",{class:"invite_btn",onClick:D(U,["stop"])},"Invite frens"),h("div",{class:"copy_btn",onClick:D(V,["stop"])},n[9]||(n[9]=[h("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABNCAMAAADU1xmCAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEHRSTlMAn4Ag30BgvxDvz5Bwr49QGJOM/gAAAJhJREFUWMPt1zsSwzAIRVEQIH+TsP/VZrQAmyePy3cLKuY0VAhj7LI4G1A3xLIlwRqAecJ9S01zoqg0n9HOSsvRR8v2saeQZlLWAC2Qg+4d01piKaJZojVAa7DmgKYJR40aNWrUqFGjRo0aNWpX+TbmAWh4/U3N7U3tJ3cdU9YSclvAkkYY8F5j+SpI3QFr01XArG4Vxp71BxiNoe2DyFTPAAAAAElFTkSuQmCC",alt:"",class:"btn_icon"},null,-1)]))])])],64)):(u(),z(o,{key:0}))],512),[[C,p(r)===p(e)]]),k(h("div",{class:"rank_list",ref_key:"containerRef",ref:s},[p(g)?(u(),z(I,{key:1,loading:p(d),finished:p(v),threshold:10,onLoad:K},{default:A((()=>[(u(!0),y(w,null,b(p(i),((t,e)=>(u(),z(_,{key:e,rankData:t,rankNum:e},null,8,["rankData","rankNum"])))),128))])),_:1},8,["loading","finished"])):(u(),z(at,{key:0}))],512),[[C,p(r)===p(l)]]),h("div",Dt,null,512)])}}}),[["__scopeId","data-v-93529119"]]);export{It as default};
